"use strict";(self.webpackChunkio_github_skrilic_Biblija_hrv_android=self.webpackChunkio_github_skrilic_Biblija_hrv_android||[]).push([[370],{9370:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var r=n(4942),o=n(1413),a=n(885),i=n(2791),c=n(6871),s=n(4271),u=n(2247),l=n(4165),d=n(5861),h=n(7076);function f(){return(f=(0,d.Z)((0,l.Z)().mark((function e(t,n){var r,o,a,i;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="Knji\u017ena oznaka",o=(new Date).toLocaleString(),e.next=4,h.db.notes.where({book:t,chapter:n}).first();case 4:if("undefined"!==typeof(a=e.sent)){e.next=18;break}return e.prev=6,e.next=9,h.db.notes.add({book:t,chapter:n,datetime:o,remark:r});case 9:return i=e.sent,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",0);case 16:e.next=19;break;case 18:return e.abrupt("return",a.id);case 19:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}var p=n(1503),v=n(4702),m=(n(4676),n(4432),n(4952),n(8519)),b=n(3366),k=n(7462),y=n(7326),g=n(4578),w=n(7441),x=n(2110),_=n.n(x);function C(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}var E=i.createContext();var j={initialChunks:{}},S="PENDING",N="REJECTED";var Z=function(e){return e};function R(e){var t=e.defaultResolveComponent,n=void 0===t?Z:t,r=e.render,o=e.onLoad;function a(e,t){void 0===t&&(t={});var a=function(e){return"function"===typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),c={};function s(e){return t.cacheKey?t.cacheKey(e):a.resolve?a.resolve(e):"static"}function u(e,r,o){var a=t.resolveComponent?t.resolveComponent(e,r):n(e);if(t.resolveComponent&&!(0,w.isValidElementType)(a))throw new Error("resolveComponent returned something that is not a React component!");return _()(o,a,{preload:!0}),a}var l=function(e){var t=s(e),n=c[t];return n&&n.status!==N||((n=a.requireAsync(e)).status=S,c[t]=n,n.then((function(){n.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:a.resolve(e),chunkName:a.chunkName(e),error:t?t.message:t}),n.status=N}))),n},d=function(e){var t=function(t){return i.createElement(E.Consumer,null,(function(n){return i.createElement(e,Object.assign({__chunkExtractor:n},t))}))};return e.displayName&&(t.displayName=e.displayName+"WithChunkExtractor"),t}(function(e){function n(n){var r;return(r=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:s(n)},C(!n.__chunkExtractor||a.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(a.requireAsync(n).catch((function(){return null})),r.loadSync(),n.__chunkExtractor.addChunk(a.chunkName(n))),(0,y.Z)(r)):(!1!==t.ssr&&(a.isReady&&a.isReady(n)||a.chunkName&&j.initialChunks[a.chunkName(n)])&&r.loadSync(),r)}(0,g.Z)(n,e),n.getDerivedStateFromProps=function(e,t){var n=s(e);return(0,k.Z)({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var i=n.prototype;return i.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===N&&this.setCache(),this.state.loading&&this.loadAsync()},i.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},i.componentWillUnmount=function(){this.mounted=!1},i.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},i.getCacheKey=function(){return s(this.props)},i.getCache=function(){return c[this.getCacheKey()]},i.setCache=function(e){void 0===e&&(e=void 0),c[this.getCacheKey()]=e},i.triggerOnLoad=function(){var e=this;o&&setTimeout((function(){o(e.state.result,e.props)}))},i.loadSync=function(){if(this.state.loading)try{var e=u(a.requireSync(this.props),this.props,h);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:a.resolve(this.props),chunkName:a.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},i.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=u(t,e.props,h);e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},i.resolveAsync=function(){var e=this.props,t=(e.__chunkExtractor,e.forwardedRef,(0,b.Z)(e,["__chunkExtractor","forwardedRef"]));return l(t)},i.render=function(){var e=this.props,n=e.forwardedRef,o=e.fallback,a=(e.__chunkExtractor,(0,b.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),i=this.state,c=i.error,s=i.loading,u=i.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===S)throw this.loadAsync();if(c)throw c;var l=o||t.fallback||null;return s?l:r({fallback:l,result:u,options:t,props:(0,k.Z)({},a,{ref:n})})},n}(i.Component)),h=i.forwardRef((function(e,t){return i.createElement(d,Object.assign({forwardedRef:t},e))}));return h.displayName="Loadable",h.preload=function(e){h.load(e)},h.load=function(e){return l(e)},h}return{loadable:a,lazy:function(e,t){return a(e,(0,k.Z)({},t,{suspense:!0}))}}}var K=R({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return i.createElement(t,n)}}),A=K.loadable,L=K.lazy,D=R({onLoad:function(e,t){e&&t.forwardedRef&&("function"===typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),q=D.loadable,z=D.lazy;var O=A;O.lib=q,L.lib=z;var T=O,P=n(9274),F=n(5484),I=n(184),V=T((function(){return n.e(444).then(n.bind(n,4444))}));var B=function(){var e=(0,c.UO)(),t=e.book,n=e.chapter,l=e.verse_id,d=(0,i.useState)({book:t,chapter:n||1}),h=(0,a.Z)(d,2),b=h[0],k=h[1],y=l||0,g=(0,i.useState)([]),w=(0,a.Z)(g,2),x=w[0],_=w[1],C=(0,i.useState)(!0),E=(0,a.Z)(C,2),j=E[0],S=E[1],N=(0,i.useRef)(!1),Z=(0,i.useContext)(u.Z).handleReadPosition,R=(0,i.useState)(0),K=(0,a.Z)(R,2),A=K[0],L=K[1];document.getElementById("menu-overlay").style.visibility="collapse";var D=function(){var e=(0,v.oc)();return(0,i.useEffect)((function(){var t=!0;if(!N.current){t&&_((0,p.H5)(b.book));var n=Number(b.chapter)-1;e.slideTo(n),Z("/verse/".concat(b.book,"/").concat(b.chapter,"/0"))}return N.current=!0,function(){return t=!1}}),[e]),(0,I.jsx)(I.Fragment,{})};function q(e){var t=e.target,n=t.name,a=t.value;k((function(e){return"book"===n?{book:a,chapter:1}:(0,o.Z)((0,o.Z)({},e),{},(0,r.Z)({},n,a))})),N.current=!1}function z(){window.confirm("Postavi knji\u017enu oznaku za ".concat((0,p.v9)(b.book).name," ").concat(b.chapter))&&function(e,t){return f.apply(this,arguments)}(b.book,b.chapter).then((function(e){return L(e)})).catch(L(0))}return(0,i.useEffect)((function(){var e=function(e){window.scrollY<110?S(!0):window.scrollY<140?S((function(e){return S(e)})):S(!1)};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[]),(0,I.jsx)("div",{name:"swiper-page",children:0!==A?(0,I.jsx)(c.Fg,{to:"/bookmark/".concat(A)}):(0,I.jsxs)("div",{children:[(0,I.jsxs)("div",{className:"navbar",style:j?{visibility:"visible"}:{visibility:"collapse"},children:[(0,I.jsxs)("div",{className:"nav-item",children:[(0,I.jsx)("select",{id:"book-select",name:"book",value:b.book,onChange:q,children:p.Cb.map((function(e){return(0,I.jsx)("option",{value:e.eng_short,children:e.name},e.eng_short)}))}),(0,I.jsx)("select",{id:"chapter-select",name:"chapter",value:b.chapter,onChange:q,children:x.map((function(e){return(0,I.jsx)("option",{value:e,children:e},e)}))})]}),(0,I.jsx)("div",{className:"nav-item bookmark-button",onClick:function(){return z()},children:(0,I.jsx)(P.pl,{})})]}),j?(0,I.jsx)("div",{style:{height:"3rem"}}):(0,I.jsx)(I.Fragment,{}),(0,I.jsxs)(v.tq,{pagination:{type:"fraction"},navigation:!0,modules:[m.tl,m.W_,m.s5],onSlideChange:function(e){var t;t=e.activeIndex+1,k((function(e){return(0,o.Z)((0,o.Z)({},e),{},{chapter:t})})),N.current=!1,window.scrollTo(0,0)},onClick:s.D,className:"mySwiper",children:[(0,I.jsx)(D,{}),x.map((function(e){return(0,I.jsx)(v.o5,{children:(0,I.jsx)(V,{bookName:(0,p.v9)(b.book).name,bookEngShort:b.book,chapter:b.chapter,markedVerse:Number(y)})},e)}))]}),(0,I.jsx)(F.Z,{visible:j})]})})}}}]);
//# sourceMappingURL=370.e56586e2.chunk.js.map