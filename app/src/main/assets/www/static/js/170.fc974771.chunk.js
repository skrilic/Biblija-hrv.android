"use strict";(self.webpackChunkio_github_skrilic_Biblija_hrv_android=self.webpackChunkio_github_skrilic_Biblija_hrv_android||[]).push([[170],{3574:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var r=t(4942),a=t(1413),o=t(885),i=t(2791),c=t(6871),s=t(4271),u=t(2247),l=t(4165),d=t(5861),h=t(7076);function v(){return(v=(0,d.Z)((0,l.Z)().mark((function e(n,t){var r,a,o,i;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="Knji\u017ena oznaka",a=(new Date).toLocaleString(),e.next=4,h.db.notes.where({book:n,chapter:t}).first();case 4:if("undefined"!==typeof(o=e.sent)){e.next=18;break}return e.prev=6,e.next=9,h.db.notes.add({book:n,chapter:t,datetime:a,remark:r});case 9:return i=e.sent,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",0);case 16:e.next=19;break;case 18:return e.abrupt("return",o.id);case 19:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}var p=t(1503),b=t(4702),f=(t(4676),t(5880),t(4432),t(8519)),k=t(4455),m=t(2845),x=t(5484),j=t(184),g=(0,k.ZP)((function(){return t.e(444).then(t.bind(t,4444))}));var w=function(){var e=(0,c.UO)(),n=e.book,t=e.chapter,l=e.verse_id,d=(0,i.useState)({book:n,chapter:t||1}),h=(0,o.Z)(d,2),k=h[0],w=h[1],Z=l||0,_=(0,i.useState)([]),y=(0,o.Z)(_,2),C=y[0],S=y[1],N=(0,i.useState)(!0),E=(0,o.Z)(N,2),z=E[0],B=E[1],F=(0,i.useRef)(!1),L=(0,i.useContext)(u.Z).handleReadPosition,P=(0,i.useState)(0),I=(0,o.Z)(P,2),R=I[0],T=I[1];document.getElementById("menu-overlay").style.visibility="collapse";var q=function(){var e=(0,b.oc)();return(0,i.useEffect)((function(){var n=!0;if(!F.current){n&&S((0,p.H5)(k.book));var t=Number(k.chapter)-1;e.slideTo(t),L("/verse/".concat(k.book,"/").concat(k.chapter,"/0"))}return F.current=!0,function(){return n=!1}}),[e]),(0,j.jsx)(j.Fragment,{})};function D(e){var n=e.target,t=n.name,o=n.value;w((function(e){return"book"===t?{book:o,chapter:1}:(0,a.Z)((0,a.Z)({},e),{},(0,r.Z)({},t,o))})),F.current=!1}function H(){window.confirm("Postavi knji\u017enu oznaku za ".concat((0,p.v9)(k.book).name," ").concat(k.chapter))&&function(e,n){return v.apply(this,arguments)}(k.book,k.chapter).then((function(e){return T(e)})).catch(T(0))}return(0,i.useEffect)((function(){var e=function(e){window.scrollY>110?B(!1):B(!0)};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[]),(0,j.jsx)("div",{name:"swiper-page",children:0!==R?(0,j.jsx)(c.Fg,{to:"/bookmark/".concat(R)}):(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"navbar",style:z?{visibility:"visible"}:{visibility:"collapse"},children:[(0,j.jsxs)("div",{className:"nav-item",children:[(0,j.jsx)("select",{id:"book-select",name:"book",value:k.book,onChange:D,children:p.Cb.map((function(e){return(0,j.jsx)("option",{value:e.eng_short,children:e.name},e.eng_short)}))}),(0,j.jsx)("select",{id:"chapter-select",name:"chapter",value:k.chapter,onChange:D,children:C.map((function(e){return(0,j.jsx)("option",{value:e,children:e},e)}))})]}),(0,j.jsx)("div",{className:"nav-item bookmark-button",onClick:function(){return H()},children:(0,j.jsx)(m.pl,{})})]}),z?(0,j.jsx)("div",{style:{height:"3rem"}}):(0,j.jsx)(j.Fragment,{}),(0,j.jsxs)(b.tq,{pagination:{type:"fraction"},navigation:!0,modules:[f.tl,f.W_],onSlideChange:function(e){var n;n=e.activeIndex+1,w((function(e){return(0,a.Z)((0,a.Z)({},e),{},{chapter:n})})),F.current=!1,window.scrollTo(0,0)},onClick:s.collapseMenu,className:"mySwiper",children:[(0,j.jsx)(q,{}),C.map((function(e){return(0,j.jsx)(b.o5,{children:(0,j.jsx)(g,{bookName:(0,p.v9)(k.book).name,bookEngShort:k.book,chapter:k.chapter,markedVerse:Number(Z)})},e)}))]}),(0,j.jsx)(x.Z,{visible:z})]})})}}}]);
//# sourceMappingURL=170.fc974771.chunk.js.map